{% extends 'base.html' %}

{% block title %}Posts - Blog Platform{% endblock %}

{% block content %}
    <h1>Posts</h1>
    <ul class="list-group">
        {% for post in object_list %}
            <li class="list-group-item">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="mb-1"><a href="{% url 'article-detail' post.pk %}">{{ post.title }}</a></h5>
                        <small class="text-muted">By {{ post.author.get_full_name }}</small>
                    </div>
                    <div>
                        {% if post.author == user %}
                            <small>
                                <a href="{% url 'update_post' post.pk %}" class="btn btn-sm btn-primary">(Edit)</a>
                                <a href="{% url 'delete_post' post.pk %}" class="btn btn-sm btn-danger ml-2">(Delete)</a>
                            </small>
                        {% endif %}
                    </div>
                </div>
                <p class="mb-1">{{ post.body }}</p>
            </li>
        {% empty %}
            <li class="list-group-item">No posts yet.</li>
        {% endfor %}
    </ul>
{% endblock %} 


<!-- home.html -->
